<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>function.php 説明書</title>
<link href="style.css" rel="stylesheet">
</head>

<body id="index">

<script type="template">
dbクラス
docクラス
mailクラス
ftpクラス

str::file

str::1
str::1
str::1
str::1
str::1
</script>


<script>
text2table();

function text2table(){
    var tmpl  = document.querySelector("script[type='template']");
    var text  = tmpl.textContent;
    var array = text2array(text);
    var table = array2table(array);

    table.id  = "menu";
    table.insertAdjacentHTML('afterbegin', '<tr><th colspan="' + array.length + '">function.php</th></tr>')
    tmpl.parentNode.replaceChild(table, tmpl);
}

function text2array(text){
    var array = text.trim().split(/\n{2,}/);
    var max   = 1;

    for(var i = 0; i < array.length; i++){
        array[i] = array[i].split("\n");
        max = Math.max(max, array[i].length);
    }

    for(var i = 0; i < array.length; i++){
        for(var j = max - array[i].length; j > 0; j--){
            array[i].push('');
        }
    }

    return array;
}

function array2table(array){
    var table = document.createElement('table');

    for(var i = 0; i < array[0].length; i++){
        var tr = table.insertRow()
        for(var j = 0; j < array.length; j++){
            var td = tr.insertCell();
            if(array[j][i]){
                var a  = content2a(array[j][i]);
                td.appendChild(a);
            }
        }
    }

    return table;
}

function content2a(content){
    var file      = content.replace('クラス', '').replace('::', '-') + '.html';
    var a         = document.createElement("a");
    a.href        = file;
    a.textContent = content;
    return a;
}
</script>



</body>
</html>