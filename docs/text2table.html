<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>text2table</title>
<style>
table{ border-collapse: collapse; }
th{ border: solid 1px #ccc; }
td{ border: solid 1px #ccc; }
text{ display:none; }
textarea{ width:1000px;height:300px;margin: 20px 0; }
</style>
</head>
<body>

<text>
dbクラス
docクラス
mailクラス
ftpクラス

str::file

str::1
str::1
str::1
str::1
str::1
</text>

<textarea></textarea>

<script>
function text2array(text){
    var array = text.trim().split("\n\n");
    var max   = 1;

    for(var i = 0; i < array.length; i++){
        array[i] = array[i].split("\n");
        max = Math.max(max, array[i].length);
    }

    for(var i = 0; i < array.length; i++){
        for(var j = max - array[i].length; j > 0; j--){
            array[i].push('');
        }
    }

    return array;
}

function array2table(array){
    var table = document.createElement('table');

    for(var i = 0; i < array[0].length; i++){
        var tr = table.insertRow()
        for(var j = 0; j < array.length; j++){
            var td = tr.insertCell();
            if(array[j][i]){
                var a  = content2a(array[j][i]);
                td.appendChild(a);
            }
        }
    }

    return table;
}

function content2a(content){
    var file      = content.replace('クラス', '').replace('::', '-') + '.html';
    var a         = document.createElement("a");
    a.href        = file;
    a.textContent = content;
    return a;
}


var text  = document.querySelector("text").textContent;
var array = text2array(text);
var table = array2table(array);
var html  = table.outerHTML;

html = html.replace(/<\/?tbody>/g, '');
html = html.replace(/<table>/g, "<table>\n");
html = html.replace(/<\/tr>/g, "<tr>\n");

document.querySelector("textarea").textContent = html;
document.body.appendChild(table);
</script>


</body>
</html>