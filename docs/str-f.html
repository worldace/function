<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>str::f()</title>
<link href="style.css" rel="stylesheet">
<script src="script.js"></script>
</head>

<body>

<article>
<header>
<h1>str::f()</h1>
<nav><a href="./"><img src="back.svg" width="24" height="24" title="ホームに戻る"></a></nav>
</header>
<div id="contents">

<p>フォーマットに基づき文字列を変換する。<a href="https://www.php.net/sprintf" target="_blank">sprintf()</a>に似た関数です</p>

<table class="function">
<tr><th>引数</th><th>説明</th></tr>
<tr class="require"><td>1</td><td>
フォーマット文字列
</td></tr>
<tr class="option"><td>2</td><td>
置換する値。第3引数以降にも渡せます
</td></tr>
<tr class="return"><td>戻</td><td>
変換後の文字列
</td></tr>
</table>
<code class="php" data-title="使用例"><!--
print str::f('<a href="%h">%h</a>%n', $url, $title);

print str::f('http://%s/?key=%u&name=%u', $host, $key, $name);
--></code>

<table>
<caption>変換ルール</caption>
<tr><th>記号</th><th>説明</th></tr>
<tr><td>%s</td><td>任意の文字列</td></tr>
<tr><td>%h</td><td>HTMLエスケープ</td></tr>
<tr><td>%u</td><td>URLエンコード</td></tr>
<tr><td>%b</td><td>Base64エンコード</td></tr>
<tr><td>%j</td><td>JSONエンコード</td></tr>
<tr><td>%n</td><td>\nに変換。これは引数不要です</td></tr>
<tr><td>%%</td><td>%に変換。%のエスケープ。これは引数不要です</td></tr>
</table>

<h3>配列を渡したときの動作</h3>

<p>第二引数に配列を渡したときは、次のような変換ルールが採用され、全要素に対して処理されます。</p>

<table>
<caption>変換ルール</caption>
<tr><th>記号</th><th>説明</th></tr>
<tr><td>%k</td><td>キー</td></tr>
<tr><td>%v</td><td>値</td></tr>
<tr><td>%n</td><td>\nに変換</td></tr>
<tr><td>%%</td><td>%に変換</td></tr>
</table>

<code class="php" data-title="使用例"><!--
print str::f('<li>%k:%v</li>%n', [10, 20]);

// <li>0:10</li>
// <li>1:20</li>
--></code>

<p class="info-blue">配列を渡したときにキーと値をエスケープしたい場合は、第三引数にtrueを指定してください</p>

</div>
</article>

</body>
</html>